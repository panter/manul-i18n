{"version":3,"sources":["../src/create_nav_item.js"],"names":[],"mappings":";;;;;;;;;;sBAAc,QAAQ;;;;;;qBAGP,UAAA,WAAW;SAAI,UAAC,GAAG,EAAK;QAEnC,KAAK,GAKH,GAAG,CALL,KAAK;QACL,SAAS,GAIP,GAAG,CAJL,SAAS;QACT,QAAQ,GAGN,GAAG,CAHL,QAAQ;QACR,MAAM,GAEJ,GAAG,CAFL,MAAM;QACN,WAAW,GACT,GAAG,CADL,WAAW;;AAGb,QAAM,IAAI,GACR,SAAS,IAAI,CAAC,QAAQ,GACtB,WAAW,CAAC,OAAO,CAAC,SAAS,EAAE,MAAM,EAAE,WAAW,CAAC,GACnD,IAAI,AACL,CAAC;;AAEF,QAAM,WAAW,GAAG,WAAW,CAAC,cAAc,EAAE,CAAC;AACjD,QAAM,MAAM,GAAG,WAAW,KAAK,IAAI,CAAC;AACpC,QAAM,OAAO,gBACR,GAAG;AACN,UAAI,EAAE,IAAI;AACV,YAAM,EAAN,MAAM;AACN,iBAAW,EAAE,CAAC,MAAM,IAAI,oBAAE,UAAU,CAAC,WAAW,EAAE,IAAI,CAAC;AACvD,WAAK,EAAL,KAAK;MACN,CAAC;AACF,QAAM,EAAE,GAAG,SAAL,EAAE;aAAS,WAAW,CAAC,EAAE,CAAC,OAAO,CAAC;KAAA,CAAC;AACzC,QAAM,OAAO,GAAG,SAAV,OAAO,CAAI,CAAC,EAAK;AACrB,UAAI,CAAC,IAAI,CAAC,CAAC,cAAc,EAAE;AACzB,SAAC,CAAC,cAAc,EAAE,CAAC;OACpB;AACD,UAAI,OAAO,CAAC,MAAM,EAAE;AAClB,eAAO;OACR;AACD,0BAAE,KAAK,CAAC,EAAE,CAAC,CAAC;KACb,CAAC;;AAEF;AACE,QAAE,EAAF,EAAE;OACC,OAAO;;AAEV,aAAO,EAAE,GAAG,CAAC,OAAO,IAAI,OAAO;;OAE/B;GACH;CAAA","file":"create_nav_item.js","sourcesContent":["import _ from 'lodash';\n// use this from context()\n\nexport default manulRouter => (nav) => {\n  const {\n    label,\n    routeName,\n    disabled,\n    params,\n    queryParams,\n  } = nav;\n\n  const path = (\n    routeName && !disabled ?\n    manulRouter.getPath(routeName, params, queryParams) :\n    null\n  );\n\n  const currentPath = manulRouter.getCurrentPath();\n  const active = currentPath === path;\n  const navItem = {\n    ...nav,\n    href: path,\n    active,\n    childActive: !active && _.startsWith(currentPath, path),\n    label,\n  };\n  const go = () => manulRouter.go(navItem);\n  const onClick = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n    if (navItem.active) {\n      return;\n    }\n    _.defer(go);\n  };\n\n  return {\n    go,\n    ...navItem,\n    // overridable, if not falsy, spreading navItem after this does not handle this correctly\n    onClick: nav.onClick || onClick,\n\n  };\n};\n"]}